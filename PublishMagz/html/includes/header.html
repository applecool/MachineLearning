<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title><?php // Use a default page title if one wasn't provided...
	if (isset($page_title)) {
			echo $page_title;
	} else {
			echo 'PublishMagz: Feel the power at your hands';
	}
	?></title>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/sticky-footer-navbar.css" rel="stylesheet">

  </head>

  <body>

    <!-- Wrap all page content here -->
    <div id="wrap">

      <!-- Fixed navbar -->
      <div class="navbar navbar-fixed-top">
        <div class="container">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.php">PublishMagz</a>
          <div class="nav-collapse collapse">
            <ul class="nav navbar-nav">
<?php // Dynamically create header menus...

// Array of labels and pages (without extensions):
$pages = array (
	'Home' => 'index.php',
	'About' => '#',
	'Contact' => '#',
	'Register' => 'register.php'
);

// The page being viewed:
$this_page = basename($_SERVER['PHP_SELF']);

$count_array = count($pages);

// Create each menu item:
foreach ($pages as $k => $v) {

	// Start the item:
	echo '<li';

	// Add the class if it's the current page:
	if ($this_page == $v) echo ' class="active"';

	// Complete the item:
	if(!isset($_SESSION['user_id'])){
		echo '><a href="' . $v . '">' . $k . '</a></li>
		';
	}else{
		echo '><a href="' . $v . '">' . $k . '</a></li>
	';	
		if(--$count_array <= 1)
			break;		
	}

} // End of FOREACH loop.

// Show the user options:
if (isset($_SESSION['user_id'])) {
	
	//admin options but tweaked to the users
	echo '<li class="dropdown">
		<a href="#" class="dropdown-toggle" data-toggle="dropdown">Publish <b class="caret"></b></a>
			<ul class="dropdown-menu">
				<li><a href="add_page.php">Add Page</a></li>
				<li><a href="add_pdf.php">Add PDF</a></li>
				<li><a href="#">Something else here</a></li>
			</ul>
		</li>';

	// Show basic user options:
	// Includes references to some bonus material discussed in Part Four!
	echo '<li class="dropdown">
	<a href="#" class="dropdown-toggle" data-toggle="dropdown">Account <b class="caret"></b></a>
		<ul class="dropdown-menu">
			<li><a href="logout.php">Logout</a></li>
			<li><a href="renew.php">Renew</a></li>
			<li><a href="change_password.php">Change Password</a></li>
			<li><a href="favorites.php">Favorites</a></li>
			<li><a href="recommendations.php">Recommendations</a></li>
			<li><a href="user_articles.php">Your Publications</a></li>
		</ul>
	</li>';
	

} // user_id not set.

?>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/container-->
      </div><!--/navbar-->
       

			

      
